<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø·Ø¨ÙŠØ¨ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0;font-family:sans-serif}
    body{
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:100vh;
      background:#1a1832;
    }
    @keyframes fadeZoom {
      from {opacity:0; transform:scale(0.9);}
      to {opacity:1; transform:scale(1);}
    }
    .card{
      width:100%;
      max-width:420px;
      min-height:640px;
      border-radius:22px;
      overflow:hidden;
      background:#2b2154;
      color:white;
      box-shadow:0 8px 24px rgba(0,0,0,0.4);
      animation: fadeZoom 0.6s ease;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .header{
      background:linear-gradient(135deg,#6d28d9,#4f46e5);
      padding:28px;
      position:relative;
      height:160px;
    }
    .share{
      position:absolute;
      top:16px;
      right:16px;
      background:rgba(255,255,255,0.15);
      border-radius:50%;
      width:40px;
      height:40px;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      transition:0.2s;
    }
    .share:active {transform:scale(0.9);}
    .back{
      position:absolute;
      top:16px;
      left:16px;
      background:rgba(255,255,255,0.15);
      border-radius:8px;
      padding:6px 12px;
      cursor:pointer;
      font-size:14px;
      font-weight:600;
      color:white;
      transition:0.2s;
    }
    .back:active{transform:scale(0.9);}
    .avatar{
      width:140px;
      height:140px;
      border-radius:50%;
      border:4px solid white;
      overflow:hidden;
      background:white;
      position:absolute;
      bottom:-70px;
      left:50%;
      transform:translateX(-50%);
    }
    .avatar img{width:100%;height:100%;object-fit:cover;}
    .info{padding:100px 28px 28px;text-align:center;}
    .name{font-size:22px;font-weight:700;line-height:1.3}
    .role{font-size:17px;opacity:0.8;margin-top:8px}
    .contact-list{margin-top:24px;display:flex;flex-direction:column;gap:18px;}
    .contact-item{
      display:flex;
      align-items:center;
      gap:14px;
      font-size:15px;
      word-break:break-word;
      padding:12px;
      border:1px solid rgba(255,255,255,0.25);
      border-radius:12px;
      background:rgba(255,255,255,0.05);
      cursor:pointer;
      transition:0.2s;
      color:white;
      text-decoration:none;
      justify-content:space-between;
    }
    .contact-item:active {transform:scale(0.96);background:rgba(255,255,255,0.15);}
    .contact-left{display:flex;align-items:center;gap:10px;}
    .copy-btn{
      background:rgba(255,255,255,0.15);
      border:none;
      border-radius:6px;
      padding:4px 10px;
      color:white;
      font-size:13px;
      cursor:pointer;
      transition:0.2s;
    }
    .copy-btn:hover{background:rgba(255,255,255,0.3);}
    .copy-btn.copied{background:rgba(34,197,94,0.18); color:#9ef3b0;}
    .actions{margin-top:28px;display:flex;flex-direction:column;gap:14px;}
    .btn{
      padding:14px;
      border-radius:12px;
      border:none;
      background:linear-gradient(135deg,#6d28d9,#4f46e5);
      color:white;
      font-size:17px;
      font-weight:600;
      cursor:pointer;
      transition:0.2s;
      text-align:center;
      text-decoration:none;
    }
    .btn:hover{opacity:0.9}
    .btn:active{transform:scale(0.97);}
    .footer{text-align:center;font-size:14px;opacity:0.8;padding:16px;}

    /* Ø´Ø§Ø´Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ© */
    .lang-screen{
      position:fixed;
      top:0;left:0;right:0;bottom:0;
      background:#1a1832;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      z-index:1000;
    }
    .lang-screen h2{color:white;margin-bottom:24px;}
    .lang-btn{
      padding:12px 24px;
      margin:8px;
      border-radius:10px;
      border:none;
      font-size:16px;
      cursor:pointer;
      font-weight:600;
      color:white;
      background:linear-gradient(135deg,#6d28d9,#4f46e5);
      transition:0.2s;
    }
    .lang-btn:hover{opacity:0.9}
  </style>
</head>
<body>
  <!-- Ø´Ø§Ø´Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ© -->
  <div class="lang-screen" id="langScreen">
    <h2>Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ© / Choisissez la langue</h2>
    <button class="lang-btn" onclick="setLanguage('ar')">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
    <button class="lang-btn" onclick="setLanguage('fr')">FranÃ§ais</button>
  </div>

  <!-- Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© -->
  <div class="card" id="card" style="display:none;">
    <div>
      <div class="header">
        <div class="back" id="backBtn">Ø±Ø¬ÙˆØ¹</div>
        <div class="share" id="shareBtn">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="18" cy="5" r="3"/>
            <circle cx="6" cy="12" r="3"/>
            <circle cx="18" cy="19" r="3"/>
            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
          </svg>
        </div>
        <div class="avatar">
          <img src="https://via.placeholder.com/150/FFFFFF/FFFFFF" alt="Profile"/>
        </div>
      </div>
      <div class="info">
        <div class="name" id="name">Dr. Mohamed Ahmed</div>
        <div class="role" id="role">(Cardiologist)</div>
        <div class="contact-list">
          <div class="contact-item">
            <div class="contact-left">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 16.92v3a2 2 0 0 1-2.18 2A19.86 19.86 0 0 1 3 5.18 2 2 0 0 1 5 3h3a2 2 0 0 1 2 1.72c.12 1.05.38 2.07.78 3.02a2 2 0 0 1-.45 2.11l-1.1 1.1a16 16 0 0 0 6.18 6.18l1.1-1.1a2 2 0 0 1 2.11-.45c.95.4 1.97.66 3.02.78A2 2 0 0 1 22 16.92z"/>
              </svg>
              <span id="phone">+123 456 7890</span>
            </div>
            <button class="copy-btn" id="copyPhone">Ù†Ø³Ø®</button>
          </div>

          <div class="contact-item">
            <div class="contact-left">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="5" width="18" height="14" rx="2" ry="2"/>
                <polyline points="3,7 12,13 21,7"/>
              </svg>
              <span id="email">doctor@example.com</span>
            </div>
            <button class="copy-btn" id="copyEmail">Ù†Ø³Ø®</button>
          </div>

          <div class="contact-item">
            <div class="contact-left">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 10c0 6-9 12-9 12s-9-6-9-12a9 9 0 0 1 18 0z"/>
                <circle cx="12" cy="10" r="3"/>
              </svg>
              <span id="address">Alger, AlgÃ©rie</span>
            </div>
            <button class="copy-btn" id="copyAddress">Ù†Ø³Ø®</button>
          </div>
        </div>
        <div class="actions">
          <a href="tel:+1234567890" class="btn" id="saveBtn">Save Phone</a>
          <a href="https://www.google.com/maps/place/Algiers/" target="_blank" class="btn" id="mapBtn">View on Map</a>
          <button class="btn" id="sendBtn">Share Doctor Info</button>
        </div>
      </div>
    </div>
    <div class="footer" id="hours">â° Reception: Satâ€“Thu (09:00 â€“ 17:00)</div>
  </div>

  <script>
    const translations = {
      ar:{
        name:"Ø¯. Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯",
        role:"Ø·Ø¨ÙŠØ¨ Ù‚Ù„Ø¨",
        phone:"+123 456 7890",
        email:"doctor@example.com",
        address:"Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ØŒ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±",
        saveBtn:"Ø­ÙØ¸ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ",
        mapBtn:"Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©",
        shareBtn:"Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¨",
        hours:"â° Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„: Ù…Ù† Ø§Ù„Ø³Ø¨Øª Ø¥Ù„Ù‰ Ø§Ù„Ø®Ù…ÙŠØ³ (09:00 â€“ 17:00)",
        copy:"Ù†Ø³Ø®",
        copiedMsgPrefix:"âœ… ØªÙ… Ù†Ø³Ø®: ",
        back:"Ø±Ø¬ÙˆØ¹"
      },
      fr:{
        name:"Dr. Mohamed Ahmed",
        role:"Cardiologue",
        phone:"+123 456 7890",
        email:"doctor@example.com",
        address:"Alger, AlgÃ©rie",
        saveBtn:"Enregistrer le numÃ©ro",
        mapBtn:"Voir l'adresse",
        shareBtn:"Partager les infos du mÃ©decin",
        hours:"â° Horaires : Du samedi au jeudi (09h00 â€“ 17h00)",
        copy:"Copier",
        copiedMsgPrefix:"âœ… CopiÃ© : ",
        back:"Retour"
      }
    };

    let currentLang = "ar";

    function setLanguage(lang){
      currentLang = lang;
      document.getElementById("langScreen").style.display="none";
      document.getElementById("card").style.display="flex";
      const t = translations[lang];
      document.getElementById("name").innerText = t.name;
      document.getElementById("role").innerText = t.role;
      document.getElementById("phone").innerText = t.phone;
      document.getElementById("email").innerText = t.email;
      document.getElementById("address").innerText = t.address;
      document.getElementById("saveBtn").innerText = t.saveBtn;
      document.getElementById("mapBtn").innerText = t.mapBtn;
      document.getElementById("sendBtn").innerText = t.shareBtn;
      document.getElementById("hours").innerText = t.hours;
      document.getElementById("copyPhone").innerText = t.copy;
      document.getElementById("copyEmail").innerText = t.copy;
      document.getElementById("copyAddress").innerText = t.copy;
      document.getElementById("backBtn").innerText = t.back;
      history.pushState({screen:"card"},"","#card");
    }

    function showLangScreen(){
      document.getElementById("card").style.display="none";
      document.getElementById("langScreen").style.display="flex";
    }

    // Ù…Ø´Ø§Ø±ÙƒØ© â€” Ø§Ù„Ø¢Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø© ØªØ¨Ø¯Ø£ Ø¨Ø§Ø³Ù… Ø§Ù„Ø·Ø¨ÙŠØ¨ (Ø§Ù„ØªØ®ØµØµ)
    document.getElementById("sendBtn").addEventListener("click", async ()=>{
      const name = document.getElementById("name").innerText;
      const role = document.getElementById("role").innerText;
      const phone = document.getElementById("phone").innerText;
      const email = document.getElementById("email").innerText;
      const address = document.getElementById("address").innerText;

      const message = `${name} (${role})\nğŸ“ ${phone}\nâœ‰ï¸ ${email}\nğŸ“ ${address}`;

      if(navigator.share){
        try{
          await navigator.share({
            title: name,
            text: message
          });
        }catch(e){console.log("Share cancelled",e);}
      }else{
        // Fall-back: copy message to clipboard and inform user
        copyStringWithFeedback(message);
      }
    });

    document.getElementById("shareBtn").addEventListener("click", ()=>{
      document.getElementById("sendBtn").click();
    });

    document.getElementById("backBtn").addEventListener("click", ()=>{
      showLangScreen();
      history.pushState({screen:"lang"},"","#lang");
    });

    window.addEventListener("popstate", (event)=>{
      if(event.state && event.state.screen==="card"){
        showLangScreen();
        history.pushState({screen:"lang"},"","#lang");
      }
    });

    // Ø¯Ø§Ù„Ø© Ù†Ø³Ø® Ù…Ø±Ù†Ø© Ù…Ø¹ fallback ÙˆØªØ±Ø¬Ù…Ø© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
    function copyStringWithFeedback(text){
      const t = translations[currentLang] || translations.ar;
      if(navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText(text).then(()=>{
          alert(t.copiedMsgPrefix + text);
        }).catch(err=>{
          // fallback
          fallbackCopyText(text, t);
        });
      } else {
        fallbackCopyText(text, t);
      }
    }

    function fallbackCopyText(text, t){
      try{
        const ta = document.createElement('textarea');
        ta.value = text;
        ta.style.position = 'fixed';
        ta.style.left = '-9999px';
        document.body.appendChild(ta);
        ta.focus();
        ta.select();
        const ok = document.execCommand('copy');
        document.body.removeChild(ta);
        if(ok){
          alert(t.copiedMsgPrefix + text);
        } else {
          alert(t.copiedMsgPrefix + text);
        }
      }catch(e){
        alert((translations[currentLang]||translations.ar).copiedMsgPrefix + text);
      }
    }

    // Ø±Ø¨Ø· Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø«Ù„Ø§Ø«Ø©
    document.getElementById("copyPhone").addEventListener("click", function(){
      const text = document.getElementById("phone").innerText;
      copyStringWithFeedback(text);
      flashButton(this);
    });
    document.getElementById("copyEmail").addEventListener("click", function(){
      const text = document.getElementById("email").innerText;
      copyStringWithFeedback(text);
      flashButton(this);
    });
    document.getElementById("copyAddress").addEventListener("click", function(){
      const text = document.getElementById("address").innerText;
      copyStringWithFeedback(text);
      flashButton(this);
    });

    // ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ Ù…Ø¤Ù‚Øª Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø³Ø® (ÙŠØºÙŠØ± Ø§Ù„Ø³ØªØ§ÙŠÙ„ Ø«Ù… ÙŠØ¹ÙˆØ¯)
    function flashButton(btn){
      btn.classList.add('copied');
      const original = btn.innerText;
      const t = translations[currentLang] || translations.ar;
      btn.innerText = (currentLang==='fr' ? 'âœ“' : 'âœ“');
      setTimeout(()=>{
        btn.classList.remove('copied');
        // Ø£Ø¹Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ø­Ø³Ø¨ Ø§Ù„Ù„ØºØ©
        btn.innerText = t.copy;
      }, 900);
    }

    // Expose copy function for possible fallbacks (not used directly)
    function copyText(id){
      const text = document.getElementById(id).innerText;
      copyStringWithFeedback(text);
    }

    // ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ù„ØºØ© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù…Ø¹Ø±Ù‘ÙØ© (ÙŠÙ…ÙƒÙ† Ø£Ù† ØªØºÙŠÙ‘Ø±Ù‡Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¹Ø¨Ø± setLanguage)
    // currentLang = "ar"; // Ù…ÙØ¹Ø±Ù‘Ù Ø£Ø¹Ù„Ø§Ù‡
  </script>
</body>
</html>
